<%- include ('partials/head') %>
<div class="container my-4">
  <h1 class="h4 mb-3 text-uppercase fw-bold">Actualizar Paciente</h1>
  <% if (paciente) { %>
    <form action="/pacientes/<%= paciente.id %>?_method=PUT" method="POST" class="row g-3">
      <div class="col-md-6">
        <label for="nombre" class="form-label text-uppercase fw-semibold">Nombre</label>
        <input type="text" class="form-control" id="nombre" name="nombre" value="<%= paciente.nombre %>" required>
      </div>
      <div class="col-md-6">
        <label for="apellidos" class="form-label text-uppercase fw-semibold">Apellidos</label>
        <input type="text" class="form-control" id="apellidos" name="apellidos" value="<%= paciente.apellidos %>" required>
      </div>
      <div class="col-md-4">
        <label for="fechaNacimiento" class="form-label text-uppercase fw-semibold">Fecha de Nacimiento</label>
        <input type="date" class="form-control" id="fechaNacimiento" name="fechaNacimiento" value="<%= paciente.fechaNacimiento ? new Date(paciente.fechaNacimiento).toISOString().slice(0,10) : '' %>" required>
      </div>
      <div class="col-md-4">
        <label for="peso" class="form-label text-uppercase fw-semibold">Peso (kg)</label>
        <input type="number" step="0.01" class="form-control" id="peso" name="peso" value="<%= paciente.peso != null ? Number(paciente.peso).toFixed(2) : '' %>">
      </div>
      <div class="col-md-4">
        <label for="temperatura" class="form-label text-uppercase fw-semibold">Temperatura (°C)</label>
        <input type="number" step="0.1" class="form-control" id="temperatura" name="temperatura" value="<%= paciente.temperatura != null ? Number(paciente.temperatura).toFixed(1) : '' %>">
      </div>
      <div class="col-12">
        <button type="submit" class="btn btn-primary">Actualizar Paciente</button>
        <a href="/" class="btn btn-secondary ms-2">Volver al listado</a>
      </div>
    </form>
  <% } else { %>
    <div class="alert alert-warning">No se encontró el paciente.</div>
    <a href="/" class="btn btn-secondary">Volver al listado</a>
  <% } %>
</div>

<%- include ('partials/footer') %>